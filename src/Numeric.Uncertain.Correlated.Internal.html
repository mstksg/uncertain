<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE DeriveFunctor              #-}</span><span>
</span><a name="line-2"></a><span class="hs-pragma">{-# LANGUAGE GADTs                      #-}</span><span>
</span><a name="line-3"></a><span class="hs-pragma">{-# LANGUAGE GeneralizedNewtypeDeriving #-}</span><span>
</span><a name="line-4"></a><span class="hs-pragma">{-# LANGUAGE KindSignatures             #-}</span><span>
</span><a name="line-5"></a><span class="hs-pragma">{-# LANGUAGE LambdaCase                 #-}</span><span>
</span><a name="line-6"></a><span class="hs-pragma">{-# LANGUAGE MultiParamTypeClasses      #-}</span><span>
</span><a name="line-7"></a><span class="hs-pragma">{-# LANGUAGE NoImplicitPrelude          #-}</span><span>
</span><a name="line-8"></a><span class="hs-pragma">{-# LANGUAGE RankNTypes                 #-}</span><span>
</span><a name="line-9"></a><span class="hs-pragma">{-# LANGUAGE ScopedTypeVariables        #-}</span><span>
</span><a name="line-10"></a><span class="hs-pragma">{-# LANGUAGE StandaloneDeriving         #-}</span><span>
</span><a name="line-11"></a><span class="hs-pragma">{-# OPTIONS_HADDOCK hide                #-}</span><span>
</span><a name="line-12"></a><span class="hs-pragma">{-# OPTIONS_HADDOCK prune               #-}</span><span>
</span><a name="line-13"></a><span>
</span><a name="line-14"></a><span class="hs-comment">-- |</span><span>
</span><a name="line-15"></a><span class="hs-comment">-- Module      : Numeric.Uncertain.Correlated.Internal</span><span>
</span><a name="line-16"></a><span class="hs-comment">-- Copyright   : (c) Justin Le 2016</span><span>
</span><a name="line-17"></a><span class="hs-comment">-- License     : BSD3</span><span>
</span><a name="line-18"></a><span class="hs-comment">--</span><span>
</span><a name="line-19"></a><span class="hs-comment">-- Maintainer  : justin@jle.im</span><span>
</span><a name="line-20"></a><span class="hs-comment">-- Stability   : experimental</span><span>
</span><a name="line-21"></a><span class="hs-comment">-- Portability : non-portable</span><span>
</span><a name="line-22"></a><span class="hs-comment">--</span><span>
</span><a name="line-23"></a><span class="hs-comment">-- Internal utility functions for functionality shared by</span><span>
</span><a name="line-24"></a><span class="hs-comment">-- &quot;Numeric.Uncertain.Correlated&quot; and</span><span>
</span><a name="line-25"></a><span class="hs-comment">-- &quot;Numeric.Uncertain.Correlated.Interactive&quot;.</span><span>
</span><a name="line-26"></a><span class="hs-comment">--</span><span>
</span><a name="line-27"></a><span>
</span><a name="line-28"></a><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Numeric</span><span class="hs-operator">.</span><span class="hs-identifier">Uncertain</span><span class="hs-operator">.</span><span class="hs-identifier">Correlated</span><span class="hs-operator">.</span><span class="hs-identifier">Internal</span><span>
</span><a name="line-29"></a><span>  </span><span class="hs-special">(</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#CVar"><span class="hs-identifier hs-type">CVar</span></a><span class="hs-special">,</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#dephantom"><span class="hs-identifier hs-var">dephantom</span></a><span>
</span><a name="line-30"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#CorrF"><span class="hs-identifier hs-type">CorrF</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#Corr"><span class="hs-identifier hs-type">Corr</span></a><span>
</span><a name="line-31"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#liftCF"><span class="hs-identifier hs-var">liftCF</span></a><span>
</span><a name="line-32"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#constC"><span class="hs-identifier hs-var">constC</span></a><span class="hs-special">,</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#liftC"><span class="hs-identifier hs-var">liftC</span></a><span class="hs-special">,</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#liftC2"><span class="hs-identifier hs-var">liftC2</span></a><span class="hs-special">,</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#liftC3"><span class="hs-identifier hs-var">liftC3</span></a><span class="hs-special">,</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#liftC4"><span class="hs-identifier hs-var">liftC4</span></a><span class="hs-special">,</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#liftC5"><span class="hs-identifier hs-var">liftC5</span></a><span>
</span><a name="line-33"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#corrToState"><span class="hs-identifier hs-var">corrToState</span></a><span>
</span><a name="line-34"></a><span>  </span><span class="hs-special">)</span><span>
</span><a name="line-35"></a><span>  </span><span class="hs-keyword">where</span><span>
</span><a name="line-36"></a><span>
</span><a name="line-37"></a><span class="hs-keyword">import</span><span>           </span><span class="hs-identifier">Control</span><span class="hs-operator">.</span><span class="hs-identifier">Arrow</span><span>             </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-operator hs-var">***</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-38"></a><span class="hs-keyword">import</span><span>           </span><span class="hs-identifier">Control</span><span class="hs-operator">.</span><span class="hs-identifier">Monad</span><span class="hs-operator">.</span><span class="hs-identifier">Free</span><span>
</span><a name="line-39"></a><span class="hs-keyword">import</span><span>           </span><span class="hs-identifier">Control</span><span class="hs-operator">.</span><span class="hs-identifier">Monad</span><span class="hs-operator">.</span><span class="hs-identifier">Trans</span><span class="hs-operator">.</span><span class="hs-identifier">State</span><span>
</span><a name="line-40"></a><span class="hs-keyword">import</span><span>           </span><span class="hs-identifier">Prelude</span><span class="hs-operator">.</span><span class="hs-identifier">Compat</span><span>
</span><a name="line-41"></a><span class="hs-keyword">import</span><span>           </span><a href="Data.Hople.html"><span class="hs-identifier">Data</span><span class="hs-operator">.</span><span class="hs-identifier">Hople</span></a><span>
</span><a name="line-42"></a><span class="hs-keyword">import</span><span>           </span><a href="Numeric.Uncertain.html"><span class="hs-identifier">Numeric</span><span class="hs-operator">.</span><span class="hs-identifier">Uncertain</span></a><span>
</span><a name="line-43"></a><span class="hs-keyword">import</span><span>           </span><span class="hs-identifier">Numeric</span><span class="hs-operator">.</span><span class="hs-identifier">AD</span><span class="hs-operator">.</span><span class="hs-identifier">Mode</span><span class="hs-operator">.</span><span class="hs-identifier">Sparse</span><span>
</span><a name="line-44"></a><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-identifier">Data</span><span class="hs-operator">.</span><span class="hs-identifier">IntMap</span><span class="hs-operator">.</span><span class="hs-identifier">Strict</span><span>        </span><span class="hs-keyword">as</span><span> </span><span class="hs-identifier">M</span><span>
</span><a name="line-45"></a><span>
</span><a name="line-46"></a><span>
</span><a name="line-47"></a><span class="hs-comment">-- | Represents a single sample (or a value calculated from samples) within</span><span>
</span><a name="line-48"></a><span class="hs-comment">-- the 'Corr' monad.  These can be created with 'sampleUncert',</span><span>
</span><a name="line-49"></a><span class="hs-comment">-- 'sampleExact', and 'constC', or made by combinining others with its</span><span>
</span><a name="line-50"></a><span class="hs-comment">-- numeric typeclass instances (like 'Num') or its functions lifting</span><span>
</span><a name="line-51"></a><span class="hs-comment">-- arbitrary numeric functions (like 'liftC2').  These keep track of</span><span>
</span><a name="line-52"></a><span class="hs-comment">-- inter-correlations between sources, and if you add together two 'CVar's</span><span>
</span><a name="line-53"></a><span class="hs-comment">-- that are correlated, their results will reflect this.</span><span>
</span><a name="line-54"></a><span class="hs-comment">--</span><span>
</span><a name="line-55"></a><span class="hs-comment">-- Can be &quot;resolved&quot; into the uncertain value they represent using</span><span>
</span><a name="line-56"></a><span class="hs-comment">-- 'resolveUncert'.</span><span>
</span><a name="line-57"></a><span class="hs-comment">--</span><span>
</span><a name="line-58"></a><span class="hs-comment">-- Note that these are parameterized by a dummy phantom parameter 's' so</span><span>
</span><a name="line-59"></a><span class="hs-comment">-- that they can't be &quot;evaluated&quot; out of the 'Corr' they live in with</span><span>
</span><a name="line-60"></a><span class="hs-comment">-- 'evalCorr'.</span><span>
</span><a name="line-61"></a><span class="hs-comment">--</span><span>
</span><a name="line-62"></a><span class="hs-comment">-- Note that a @'CVar' s a@ can only ever meaningfully &quot;exist&quot; in a @'Corr'</span><span>
</span><a name="line-63"></a><span class="hs-comment">-- s a@, meaning that the all samples within that 'Corr' are of the same</span><span>
</span><a name="line-64"></a><span class="hs-comment">-- type.</span><span>
</span><a name="line-65"></a><span class="hs-keyword">data</span><span> </span><a name="CVar"><a href="Numeric.Uncertain.Correlated.Internal.html#CVar"><span class="hs-identifier">CVar</span></a></a><span> </span><a name="local-6989586621679087327"><a href="#local-6989586621679087327"><span class="hs-identifier">s</span></a></a><span> </span><a name="local-6989586621679087328"><a href="#local-6989586621679087328"><span class="hs-identifier">a</span></a></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-66"></a><span>    </span><a name="CK"><a href="Numeric.Uncertain.Correlated.Internal.html#CK"><span class="hs-identifier">CK</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621679087329"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#CVar"><span class="hs-identifier hs-type">CVar</span></a><span> </span><a href="#local-6989586621679087330"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679087329"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-67"></a><span>    </span><a name="CV"><a href="Numeric.Uncertain.Correlated.Internal.html#CV"><span class="hs-identifier">CV</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">M</span><span class="hs-operator hs-type">.</span><span class="hs-identifier hs-type">Key</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#CVar"><span class="hs-identifier hs-type">CVar</span></a><span> </span><a href="#local-6989586621679087331"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679087332"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-68"></a><span>    </span><a name="CF"><a href="Numeric.Uncertain.Correlated.Internal.html#CF"><span class="hs-identifier">CF</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Functor</span><span> </span><a href="#local-6989586621679087333"><span class="hs-identifier hs-type">f</span></a><span>
</span><a name="line-69"></a><span>       </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><a name="local-6989586621679087336"><a href="#local-6989586621679087336"><span class="hs-identifier">t</span></a></a><span class="hs-operator">.</span><span> </span><a href="#local-6989586621679087333"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">AD</span><span> </span><a href="#local-6989586621679087336"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Sparse</span><span> </span><a href="#local-6989586621679087334"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">AD</span><span> </span><a href="#local-6989586621679087336"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Sparse</span><span> </span><a href="#local-6989586621679087334"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-70"></a><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679087333"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-special">(</span><a href="Numeric.Uncertain.Correlated.Internal.html#CVar"><span class="hs-identifier hs-type">CVar</span></a><span> </span><a href="#local-6989586621679087335"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679087334"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span>
</span><a name="line-71"></a><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#CVar"><span class="hs-identifier hs-type">CVar</span></a><span> </span><a href="#local-6989586621679087335"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679087334"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-72"></a><span>
</span><a name="line-73"></a><span class="hs-comment">-- | Unsafe function to bypass the universal qualification guard for</span><span>
</span><a name="line-74"></a><span class="hs-comment">-- returning 'CVar's from 'Corr's.</span><span>
</span><a name="line-75"></a><span class="hs-identifier">dephantom</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#CVar"><span class="hs-identifier hs-type">CVar</span></a><span> </span><a href="#local-6989586621679087501"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679087502"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#CVar"><span class="hs-identifier hs-type">CVar</span></a><span> </span><a href="#local-6989586621679087503"><span class="hs-identifier hs-type">t</span></a><span> </span><a href="#local-6989586621679087502"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-76"></a><a name="dephantom"><a href="Numeric.Uncertain.Correlated.Internal.html#dephantom"><span class="hs-identifier">dephantom</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-keyword">case</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#CK"><span class="hs-identifier hs-var">CK</span></a><span> </span><a name="local-6989586621679087504"><a href="#local-6989586621679087504"><span class="hs-identifier">x</span></a></a><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#CK"><span class="hs-identifier hs-var">CK</span></a><span> </span><a href="#local-6989586621679087504"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-77"></a><span>                  </span><a href="Numeric.Uncertain.Correlated.Internal.html#CV"><span class="hs-identifier hs-var">CV</span></a><span> </span><a name="local-6989586621679087505"><a href="#local-6989586621679087505"><span class="hs-identifier">k</span></a></a><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#CV"><span class="hs-identifier hs-var">CV</span></a><span> </span><a href="#local-6989586621679087505"><span class="hs-identifier hs-var">k</span></a><span>
</span><a name="line-78"></a><span>                  </span><a href="Numeric.Uncertain.Correlated.Internal.html#CF"><span class="hs-identifier hs-var">CF</span></a><span> </span><a name="local-6989586621679087506"><a href="#local-6989586621679087506"><span class="hs-identifier">f</span></a></a><span> </span><a name="local-6989586621679087507"><a href="#local-6989586621679087507"><span class="hs-identifier">xs</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#CF"><span class="hs-identifier hs-var">CF</span></a><span> </span><a href="#local-6989586621679087506"><span class="hs-identifier hs-var">f</span></a><span> </span><span class="hs-special">(</span><a href="Numeric.Uncertain.Correlated.Internal.html#dephantom"><span class="hs-identifier hs-var">dephantom</span></a><span> </span><span class="hs-operator hs-var">&lt;$&gt;</span><span> </span><a href="#local-6989586621679087507"><span class="hs-identifier hs-var">xs</span></a><span class="hs-special">)</span><span>
</span><a name="line-79"></a><span>
</span><a name="line-80"></a><span class="hs-keyword">data</span><span> </span><a name="CorrF"><a href="Numeric.Uncertain.Correlated.Internal.html#CorrF"><span class="hs-identifier">CorrF</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-operator hs-type">*</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-operator hs-type">*</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-operator hs-type">*</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-operator hs-type">*</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-81"></a><span>    </span><a name="Gen"><a href="Numeric.Uncertain.Correlated.Internal.html#Gen"><span class="hs-identifier">Gen</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="Numeric.Uncertain.html#Uncert"><span class="hs-identifier hs-type">Uncert</span></a><span> </span><a href="#local-6989586621679087316"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="Numeric.Uncertain.Correlated.Internal.html#CVar"><span class="hs-identifier hs-type">CVar</span></a><span> </span><a href="#local-6989586621679087317"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679087316"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679087318"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#CorrF"><span class="hs-identifier hs-type">CorrF</span></a><span> </span><a href="#local-6989586621679087317"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679087316"><span class="hs-identifier hs-type">a</span></a><span> </span><a href="#local-6989586621679087318"><span class="hs-identifier hs-type">b</span></a><span>
</span><a name="line-82"></a><span>    </span><a name="Fun"><a href="Numeric.Uncertain.Correlated.Internal.html#Fun"><span class="hs-identifier">Fun</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Functor</span><span> </span><a href="#local-6989586621679087319"><span class="hs-identifier hs-type">f</span></a><span>
</span><a name="line-83"></a><span>        </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><a name="local-6989586621679087323"><a href="#local-6989586621679087323"><span class="hs-identifier">t</span></a></a><span class="hs-operator">.</span><span> </span><a href="#local-6989586621679087319"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">AD</span><span> </span><a href="#local-6989586621679087323"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Sparse</span><span> </span><a href="#local-6989586621679087320"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">AD</span><span> </span><a href="#local-6989586621679087323"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Sparse</span><span> </span><a href="#local-6989586621679087320"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-84"></a><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679087319"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-special">(</span><a href="Numeric.Uncertain.Correlated.Internal.html#CVar"><span class="hs-identifier hs-type">CVar</span></a><span> </span><a href="#local-6989586621679087321"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679087320"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span>
</span><a name="line-85"></a><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="Numeric.Uncertain.Correlated.Internal.html#CVar"><span class="hs-identifier hs-type">CVar</span></a><span> </span><a href="#local-6989586621679087321"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679087320"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679087322"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span>
</span><a name="line-86"></a><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#CorrF"><span class="hs-identifier hs-type">CorrF</span></a><span> </span><a href="#local-6989586621679087321"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679087320"><span class="hs-identifier hs-type">a</span></a><span> </span><a href="#local-6989586621679087322"><span class="hs-identifier hs-type">b</span></a><span>
</span><a name="line-87"></a><span>    </span><a name="Rei"><a href="Numeric.Uncertain.Correlated.Internal.html#Rei"><span class="hs-identifier">Rei</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#CVar"><span class="hs-identifier hs-type">CVar</span></a><span> </span><a href="#local-6989586621679087324"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679087325"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-88"></a><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="Numeric.Uncertain.html#Uncert"><span class="hs-identifier hs-type">Uncert</span></a><span> </span><a href="#local-6989586621679087325"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679087326"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span>
</span><a name="line-89"></a><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#CorrF"><span class="hs-identifier hs-type">CorrF</span></a><span> </span><a href="#local-6989586621679087324"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679087325"><span class="hs-identifier hs-type">a</span></a><span> </span><a href="#local-6989586621679087326"><span class="hs-identifier hs-type">b</span></a><span>
</span><a name="line-90"></a><span>
</span><a name="line-91"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">Functor</span><span> </span><span class="hs-special">(</span><a href="Numeric.Uncertain.Correlated.Internal.html#CorrF"><span class="hs-identifier hs-type">CorrF</span></a><span> </span><a href="#local-6989586621679087343"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679087344"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-92"></a><span>    </span><a name="local-3458764513820541101"><span class="hs-identifier">fmap</span></a><span> </span><a name="local-6989586621679087345"><a href="#local-6989586621679087345"><span class="hs-identifier">f</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-keyword">case</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#Gen"><span class="hs-identifier hs-var">Gen</span></a><span> </span><a name="local-6989586621679087346"><a href="#local-6989586621679087346"><span class="hs-identifier">u</span></a></a><span>    </span><a name="local-6989586621679087347"><a href="#local-6989586621679087347"><span class="hs-identifier">next</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#Gen"><span class="hs-identifier hs-var">Gen</span></a><span> </span><a href="#local-6989586621679087346"><span class="hs-identifier hs-var">u</span></a><span>    </span><span class="hs-special">(</span><a href="#local-6989586621679087345"><span class="hs-identifier hs-var">f</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="#local-6989586621679087347"><span class="hs-identifier hs-var">next</span></a><span class="hs-special">)</span><span>
</span><a name="line-93"></a><span>                   </span><a href="Numeric.Uncertain.Correlated.Internal.html#Fun"><span class="hs-identifier hs-var">Fun</span></a><span> </span><a name="local-6989586621679087348"><a href="#local-6989586621679087348"><span class="hs-identifier">g</span></a></a><span> </span><a name="local-6989586621679087349"><a href="#local-6989586621679087349"><span class="hs-identifier">us</span></a></a><span> </span><a name="local-6989586621679087350"><a href="#local-6989586621679087350"><span class="hs-identifier">next</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#Fun"><span class="hs-identifier hs-var">Fun</span></a><span> </span><a href="#local-6989586621679087348"><span class="hs-identifier hs-var">g</span></a><span> </span><a href="#local-6989586621679087349"><span class="hs-identifier hs-var">us</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679087345"><span class="hs-identifier hs-var">f</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="#local-6989586621679087350"><span class="hs-identifier hs-var">next</span></a><span class="hs-special">)</span><span>
</span><a name="line-94"></a><span>                   </span><a href="Numeric.Uncertain.Correlated.Internal.html#Rei"><span class="hs-identifier hs-var">Rei</span></a><span> </span><a name="local-6989586621679087351"><a href="#local-6989586621679087351"><span class="hs-identifier">v</span></a></a><span>    </span><a name="local-6989586621679087352"><a href="#local-6989586621679087352"><span class="hs-identifier">next</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#Rei"><span class="hs-identifier hs-var">Rei</span></a><span> </span><a href="#local-6989586621679087351"><span class="hs-identifier hs-var">v</span></a><span>    </span><span class="hs-special">(</span><a href="#local-6989586621679087345"><span class="hs-identifier hs-var">f</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="#local-6989586621679087352"><span class="hs-identifier hs-var">next</span></a><span class="hs-special">)</span><span>
</span><a name="line-95"></a><span>
</span><a name="line-96"></a><span>
</span><a name="line-97"></a><span class="hs-comment">-- | The 'Corr' monad allows us to keep track of correlated and</span><span>
</span><a name="line-98"></a><span class="hs-comment">-- non-independent samples.  It fixes a basic &quot;failure&quot; of the 'Uncert'</span><span>
</span><a name="line-99"></a><span class="hs-comment">-- type, which can't describe correlated samples.</span><span>
</span><a name="line-100"></a><span class="hs-comment">--</span><span>
</span><a name="line-101"></a><span class="hs-comment">-- For example, consider the difference between:</span><span>
</span><a name="line-102"></a><span class="hs-comment">--</span><span>
</span><a name="line-103"></a><span class="hs-comment">-- @</span><span>
</span><a name="line-104"></a><span class="hs-comment">-- ghci&gt; sum $ replicate 10 (12.5 '+/-' 0.8)</span><span>
</span><a name="line-105"></a><span class="hs-comment">-- 125 +/- 3</span><span>
</span><a name="line-106"></a><span class="hs-comment">-- ghci&gt; 10 * (12.5 +/- 0.8)</span><span>
</span><a name="line-107"></a><span class="hs-comment">-- 125 +/- 8</span><span>
</span><a name="line-108"></a><span class="hs-comment">-- @</span><span>
</span><a name="line-109"></a><span class="hs-comment">--</span><span>
</span><a name="line-110"></a><span class="hs-comment">-- The first one represents the addition of ten independent samples, whose</span><span>
</span><a name="line-111"></a><span class="hs-comment">-- errors will in general cancel eachother out.   The second one represents</span><span>
</span><a name="line-112"></a><span class="hs-comment">-- sampling once and multiplying it by ten, which will amplify any error by</span><span>
</span><a name="line-113"></a><span class="hs-comment">-- a full factor of 10.</span><span>
</span><a name="line-114"></a><span class="hs-comment">--</span><span>
</span><a name="line-115"></a><span class="hs-comment">-- See how the 'Corr' monad expresses the above computations:</span><span>
</span><a name="line-116"></a><span class="hs-comment">--</span><span>
</span><a name="line-117"></a><span class="hs-comment">-- @</span><span>
</span><a name="line-118"></a><span class="hs-comment">-- ghci&gt; 'evalCorr' $ do</span><span>
</span><a name="line-119"></a><span class="hs-comment">--         x  &lt;- 'sampleUncert' $ 12.5 '+/-' 0.8</span><span>
</span><a name="line-120"></a><span class="hs-comment">--         y1 &lt;- 'resolveUncert' $ sum (replicate 10 x)</span><span>
</span><a name="line-121"></a><span class="hs-comment">--         y2 &lt;- resolveUncert $ 10 * x</span><span>
</span><a name="line-122"></a><span class="hs-comment">--         return (y1, y2)</span><span>
</span><a name="line-123"></a><span class="hs-comment">-- (125 +\/- 8, 125 +\/- 8)</span><span>
</span><a name="line-124"></a><span class="hs-comment">--</span><span>
</span><a name="line-125"></a><span class="hs-comment">-- ghci&gt; 'evalCorr' $ do</span><span>
</span><a name="line-126"></a><span class="hs-comment">--         xs &lt;- replicateM 10 ('sampleUncert' (12.5 +/- 0.8))</span><span>
</span><a name="line-127"></a><span class="hs-comment">--         'resolveUncert' $ sum xs</span><span>
</span><a name="line-128"></a><span class="hs-comment">-- 125 +/- 3</span><span>
</span><a name="line-129"></a><span class="hs-comment">-- @</span><span>
</span><a name="line-130"></a><span class="hs-comment">--</span><span>
</span><a name="line-131"></a><span class="hs-comment">-- The first example samples once and describes operations on the single</span><span>
</span><a name="line-132"></a><span class="hs-comment">-- sample; the second example samples 10 times with 'replicateM' and sums</span><span>
</span><a name="line-133"></a><span class="hs-comment">-- all of the results.</span><span>
</span><a name="line-134"></a><span class="hs-comment">--</span><span>
</span><a name="line-135"></a><span class="hs-comment">-- Things are more interesting when you sample multiple variables:</span><span>
</span><a name="line-136"></a><span class="hs-comment">--</span><span>
</span><a name="line-137"></a><span class="hs-comment">-- @</span><span>
</span><a name="line-138"></a><span class="hs-comment">-- ghci&gt; 'evalCorr' $ do</span><span>
</span><a name="line-139"></a><span class="hs-comment">--         x &lt;- 'sampleUncert' $ 12.5 '+/-' 0.8</span><span>
</span><a name="line-140"></a><span class="hs-comment">--         y &lt;- sampleUncert $ 15.9 +/- 0.5</span><span>
</span><a name="line-141"></a><span class="hs-comment">--         z &lt;- sampleUncert $ 1.52 +/- 0.07</span><span>
</span><a name="line-142"></a><span class="hs-comment">--         let k = y ** x</span><span>
</span><a name="line-143"></a><span class="hs-comment">--         'resolveUncert' $ (x+z) * logBase z k</span><span>
</span><a name="line-144"></a><span class="hs-comment">-- 1200 +/- 200</span><span>
</span><a name="line-145"></a><span class="hs-comment">-- @</span><span>
</span><a name="line-146"></a><span class="hs-comment">--</span><span>
</span><a name="line-147"></a><span class="hs-comment">-- The first parameter is a dummy phantom parameter used to prevent 'CVar's</span><span>
</span><a name="line-148"></a><span class="hs-comment">-- from leaking out of the computation (see 'evalCorr').  The second</span><span>
</span><a name="line-149"></a><span class="hs-comment">-- parameter is the numeric type of all samples within the description (for</span><span>
</span><a name="line-150"></a><span class="hs-comment">-- example, if you ever sample an @'Uncert' 'Double'@, the second parameter wil</span><span>
</span><a name="line-151"></a><span class="hs-comment">-- be 'Double').  The third parameter is the result type of the</span><span>
</span><a name="line-152"></a><span class="hs-comment">-- computation -- the value the 'Corr' is describing.</span><span>
</span><a name="line-153"></a><span class="hs-keyword">newtype</span><span> </span><a name="Corr"><a href="Numeric.Uncertain.Correlated.Internal.html#Corr"><span class="hs-identifier">Corr</span></a></a><span> </span><a name="local-6989586621679087313"><a href="#local-6989586621679087313"><span class="hs-identifier">s</span></a></a><span> </span><a name="local-6989586621679087314"><a href="#local-6989586621679087314"><span class="hs-identifier">a</span></a></a><span> </span><a name="local-6989586621679087315"><a href="#local-6989586621679087315"><span class="hs-identifier">b</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a name="Corr"><a href="Numeric.Uncertain.Correlated.Internal.html#Corr"><span class="hs-identifier">Corr</span></a></a><span> </span><span class="hs-special">{</span><span> </span><a name="corrFree"><a href="Numeric.Uncertain.Correlated.Internal.html#corrFree"><span class="hs-identifier">corrFree</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Free</span><span> </span><span class="hs-special">(</span><a href="Numeric.Uncertain.Correlated.Internal.html#CorrF"><span class="hs-identifier hs-type">CorrF</span></a><span> </span><a href="#local-6989586621679087313"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679087314"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679087315"><span class="hs-identifier hs-type">b</span></a><span>
</span><a name="line-154"></a><span>                          </span><span class="hs-special">}</span><span>
</span><a name="line-155"></a><span>                   </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Functor</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Applicative</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Monad</span><span class="hs-special">)</span><span>
</span><a name="line-156"></a><span>
</span><a name="line-157"></a><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">MonadFree</span><span> </span><span class="hs-special">(</span><a href="Numeric.Uncertain.Correlated.Internal.html#CorrF"><span class="hs-identifier hs-type">CorrF</span></a><span> </span><a href="#local-6989586621679087537"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679087538"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="Numeric.Uncertain.Correlated.Internal.html#Corr"><span class="hs-identifier hs-type">Corr</span></a><span> </span><a href="#local-6989586621679087537"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679087538"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span>
</span><a name="line-158"></a><span>
</span><a name="line-159"></a><span class="hs-identifier">corrToState</span><span>
</span><a name="line-160"></a><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Monad</span><span> </span><a href="#local-6989586621679087374"><span class="hs-identifier hs-type">m</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Fractional</span><span> </span><a href="#local-6989586621679087375"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span>
</span><a name="line-161"></a><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#Corr"><span class="hs-identifier hs-type">Corr</span></a><span> </span><a href="#local-6989586621679087376"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679087375"><span class="hs-identifier hs-type">a</span></a><span> </span><a href="#local-6989586621679087377"><span class="hs-identifier hs-type">b</span></a><span>
</span><a name="line-162"></a><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">StateT</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">M</span><span class="hs-operator hs-type">.</span><span class="hs-identifier hs-type">Key</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">M</span><span class="hs-operator hs-type">.</span><span class="hs-identifier hs-type">IntMap</span><span> </span><span class="hs-special">(</span><a href="Numeric.Uncertain.html#Uncert"><span class="hs-identifier hs-type">Uncert</span></a><span> </span><a href="#local-6989586621679087375"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621679087374"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679087377"><span class="hs-identifier hs-type">b</span></a><span>
</span><a name="line-163"></a><a name="corrToState"><a href="Numeric.Uncertain.Correlated.Internal.html#corrToState"><span class="hs-identifier">corrToState</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">iterM</span><span> </span><a href="#local-6989586621679087508"><span class="hs-identifier hs-var">go</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier">corrFree</span><span>
</span><a name="line-164"></a><span>  </span><span class="hs-keyword">where</span><span>
</span><a name="line-165"></a><span>    </span><a name="local-6989586621679087508"><a href="#local-6989586621679087508"><span class="hs-identifier">go</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-keyword">case</span><span>
</span><a name="line-166"></a><span>            </span><a href="Numeric.Uncertain.Correlated.Internal.html#Gen"><span class="hs-identifier hs-var">Gen</span></a><span> </span><a name="local-6989586621679087512"><a href="#local-6989586621679087512"><span class="hs-identifier">u</span></a></a><span> </span><a name="local-6989586621679087513"><a href="#local-6989586621679087513"><span class="hs-identifier">next</span></a></a><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><a name="line-167"></a><span>              </span><a name="local-6989586621679087514"><a href="#local-6989586621679087514"><span class="hs-identifier">i</span></a></a><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier hs-var">gets</span><span> </span><span class="hs-identifier hs-var">fst</span><span>
</span><a name="line-168"></a><span>              </span><span class="hs-identifier hs-var">modify</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-identifier hs-var">succ</span><span> </span><span class="hs-operator hs-var">***</span><span> </span><span class="hs-identifier hs-var">M</span><span class="hs-operator hs-var">.</span><span class="hs-identifier hs-var">insert</span><span> </span><a href="#local-6989586621679087514"><span class="hs-identifier hs-var">i</span></a><span> </span><a href="#local-6989586621679087512"><span class="hs-identifier hs-var">u</span></a><span>
</span><a name="line-169"></a><span>              </span><a href="#local-6989586621679087513"><span class="hs-identifier hs-var">next</span></a><span> </span><span class="hs-special">(</span><a href="Numeric.Uncertain.Correlated.Internal.html#CV"><span class="hs-identifier hs-var">CV</span></a><span> </span><a href="#local-6989586621679087514"><span class="hs-identifier hs-var">i</span></a><span class="hs-special">)</span><span>
</span><a name="line-170"></a><span>            </span><a href="Numeric.Uncertain.Correlated.Internal.html#Fun"><span class="hs-identifier hs-var">Fun</span></a><span> </span><a name="local-6989586621679087515"><a href="#local-6989586621679087515"><span class="hs-identifier">f</span></a></a><span> </span><a name="local-6989586621679087516"><a href="#local-6989586621679087516"><span class="hs-identifier">us</span></a></a><span> </span><a name="local-6989586621679087517"><a href="#local-6989586621679087517"><span class="hs-identifier">next</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-171"></a><span>              </span><a href="#local-6989586621679087517"><span class="hs-identifier hs-var">next</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#CF"><span class="hs-identifier hs-var">CF</span></a><span> </span><a href="#local-6989586621679087515"><span class="hs-identifier hs-var">f</span></a><span> </span><a href="#local-6989586621679087516"><span class="hs-identifier hs-var">us</span></a><span>
</span><a name="line-172"></a><span>            </span><a href="Numeric.Uncertain.Correlated.Internal.html#Rei"><span class="hs-identifier hs-var">Rei</span></a><span> </span><a name="local-6989586621679087518"><a href="#local-6989586621679087518"><span class="hs-identifier">v</span></a></a><span> </span><a name="local-6989586621679087519"><a href="#local-6989586621679087519"><span class="hs-identifier">next</span></a></a><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><a name="line-173"></a><span>              </span><a name="local-6989586621679087520"><a href="#local-6989586621679087520"><span class="hs-identifier">u</span></a></a><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier hs-var">gets</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679087509"><span class="hs-identifier hs-var">getCVar</span></a><span> </span><a href="#local-6989586621679087518"><span class="hs-identifier hs-var">v</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">snd</span><span class="hs-special">)</span><span>
</span><a name="line-174"></a><span>              </span><a href="#local-6989586621679087519"><span class="hs-identifier hs-var">next</span></a><span> </span><a href="#local-6989586621679087520"><span class="hs-identifier hs-var">u</span></a><span>
</span><a name="line-175"></a><span>    </span><span class="hs-identifier">getCVar</span><span>
</span><a name="line-176"></a><span>        </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><a name="local-6989586621679087510"><a href="#local-6989586621679087510"><span class="hs-identifier">a</span></a></a><span> </span><a name="local-6989586621679087511"><a href="#local-6989586621679087511"><span class="hs-identifier">s</span></a></a><span class="hs-operator">.</span><span> </span><span class="hs-identifier hs-type">Fractional</span><span> </span><a href="#local-6989586621679087510"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-177"></a><span>        </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#CVar"><span class="hs-identifier hs-type">CVar</span></a><span> </span><a href="#local-6989586621679087511"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679087510"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-178"></a><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">M</span><span class="hs-operator hs-type">.</span><span class="hs-identifier hs-type">IntMap</span><span> </span><span class="hs-special">(</span><a href="Numeric.Uncertain.html#Uncert"><span class="hs-identifier hs-type">Uncert</span></a><span> </span><a href="#local-6989586621679087510"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span>
</span><a name="line-179"></a><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Numeric.Uncertain.html#Uncert"><span class="hs-identifier hs-type">Uncert</span></a><span> </span><a href="#local-6989586621679087510"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-180"></a><span>    </span><a name="local-6989586621679087509"><a href="#local-6989586621679087509"><span class="hs-identifier">getCVar</span></a></a><span> </span><a name="local-6989586621679087521"><a href="#local-6989586621679087521"><span class="hs-identifier">cv</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Numeric.Uncertain.html#liftUF"><span class="hs-identifier hs-var">liftUF</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679087522"><span class="hs-identifier hs-var">cVarToF</span></a><span> </span><a href="#local-6989586621679087521"><span class="hs-identifier hs-var">cv</span></a><span class="hs-special">)</span><span>
</span><a name="line-181"></a><span>      </span><span class="hs-keyword">where</span><span>
</span><a name="line-182"></a><span>        </span><span class="hs-identifier">cVarToF</span><span>
</span><a name="line-183"></a><span>            </span><span class="hs-glyph">::</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#CVar"><span class="hs-identifier hs-type">CVar</span></a><span> </span><a href="#local-6989586621679087511"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679087510"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-184"></a><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><a name="local-6989586621679087523"><a href="#local-6989586621679087523"><span class="hs-identifier">t</span></a></a><span class="hs-operator">.</span><span> </span><span class="hs-identifier hs-type">M</span><span class="hs-operator hs-type">.</span><span class="hs-identifier hs-type">IntMap</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">AD</span><span> </span><a href="#local-6989586621679087523"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Sparse</span><span> </span><a href="#local-6989586621679087510"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">AD</span><span> </span><a href="#local-6989586621679087523"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Sparse</span><span> </span><a href="#local-6989586621679087510"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-185"></a><span>        </span><a name="local-6989586621679087522"><a href="#local-6989586621679087522"><span class="hs-identifier">cVarToF</span></a></a><span> </span><span class="hs-special">(</span><a href="Numeric.Uncertain.Correlated.Internal.html#CK"><span class="hs-identifier hs-var">CK</span></a><span> </span><a name="local-6989586621679087524"><a href="#local-6989586621679087524"><span class="hs-identifier">x</span></a></a><span class="hs-special">)</span><span>    </span><span class="hs-identifier">_</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">auto</span><span> </span><a href="#local-6989586621679087524"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-186"></a><span>        </span><span class="hs-identifier">cVarToF</span><span> </span><span class="hs-special">(</span><a href="Numeric.Uncertain.Correlated.Internal.html#CV"><span class="hs-identifier hs-var">CV</span></a><span> </span><a name="local-6989586621679087525"><a href="#local-6989586621679087525"><span class="hs-identifier">k</span></a></a><span class="hs-special">)</span><span>    </span><a name="local-6989586621679087526"><a href="#local-6989586621679087526"><span class="hs-identifier">us</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679087526"><span class="hs-identifier hs-var">us</span></a><span> </span><span class="hs-identifier hs-var">M</span><span class="hs-operator hs-var">.!</span><span> </span><a href="#local-6989586621679087525"><span class="hs-identifier hs-var">k</span></a><span>
</span><a name="line-187"></a><span>        </span><span class="hs-identifier">cVarToF</span><span> </span><span class="hs-special">(</span><a href="Numeric.Uncertain.Correlated.Internal.html#CF"><span class="hs-identifier hs-var">CF</span></a><span> </span><a name="local-6989586621679087527"><a href="#local-6989586621679087527"><span class="hs-identifier">f</span></a></a><span> </span><a name="local-6989586621679087528"><a href="#local-6989586621679087528"><span class="hs-identifier">cs</span></a></a><span class="hs-special">)</span><span> </span><a name="local-6989586621679087529"><a href="#local-6989586621679087529"><span class="hs-identifier">us</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679087527"><span class="hs-identifier hs-var">f</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">flip</span><span> </span><a href="#local-6989586621679087522"><span class="hs-identifier hs-var">cVarToF</span></a><span> </span><a href="#local-6989586621679087529"><span class="hs-identifier hs-var">us</span></a><span> </span><span class="hs-operator hs-var">&lt;$&gt;</span><span> </span><a href="#local-6989586621679087528"><span class="hs-identifier hs-var">cs</span></a><span class="hs-special">)</span><span>
</span><a name="line-188"></a><span class="hs-pragma">{-# INLINABLE corrToState #-}</span><span>
</span><a name="line-189"></a><span>
</span><a name="line-190"></a><span class="hs-comment">-- | Lifts a multivariate numeric function on a container (given as an @f</span><span>
</span><a name="line-191"></a><span class="hs-comment">-- a -&gt; a@) to work on a container of 'CVar's.  Correctly propagates the</span><span>
</span><a name="line-192"></a><span class="hs-comment">-- uncertainty according to the second-order (multivariate) taylor</span><span>
</span><a name="line-193"></a><span class="hs-comment">-- expansion of the function, and properly takes into account and keeps</span><span>
</span><a name="line-194"></a><span class="hs-comment">-- track of all inter-correlations between the 'CVar' samples.  Note that</span><span>
</span><a name="line-195"></a><span class="hs-comment">-- if the higher-degree taylor series terms are large with respect to the</span><span>
</span><a name="line-196"></a><span class="hs-comment">-- means and variances, this approximation may be inaccurate.</span><span>
</span><a name="line-197"></a><span class="hs-comment">--</span><span>
</span><a name="line-198"></a><span class="hs-comment">-- Should take any function sufficiently polymorphic over numeric types, so</span><span>
</span><a name="line-199"></a><span class="hs-comment">-- you can use things like '*', 'sqrt', 'atan2', etc.</span><span>
</span><a name="line-200"></a><span class="hs-comment">--</span><span>
</span><a name="line-201"></a><span class="hs-comment">-- @</span><span>
</span><a name="line-202"></a><span class="hs-comment">-- ghci&gt; 'evalCorr' $ do</span><span>
</span><a name="line-203"></a><span class="hs-comment">--         x &lt;- 'sampleUncert' $ 12.5 '+/-' 0.8</span><span>
</span><a name="line-204"></a><span class="hs-comment">--         y &lt;- sampleUncert $ 15.9 +/- 0.5</span><span>
</span><a name="line-205"></a><span class="hs-comment">--         z &lt;- sampleUncert $ 1.52 +/- 0.07</span><span>
</span><a name="line-206"></a><span class="hs-comment">--         'resolveUncert' $ liftCF (\\[a,b,c] -&gt; (a+c) * logBase c (b**a)) x y z</span><span>
</span><a name="line-207"></a><span class="hs-comment">-- 1200 +/- 200</span><span>
</span><a name="line-208"></a><span class="hs-comment">-- @</span><span>
</span><a name="line-209"></a><span class="hs-comment">--</span><span>
</span><a name="line-210"></a><span class="hs-identifier">liftCF</span><span>
</span><a name="line-211"></a><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Functor</span><span> </span><a href="#local-6989586621679087370"><span class="hs-identifier hs-type">f</span></a><span>
</span><a name="line-212"></a><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><a name="local-6989586621679087373"><a href="#local-6989586621679087373"><span class="hs-identifier">t</span></a></a><span class="hs-operator">.</span><span> </span><a href="#local-6989586621679087370"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">AD</span><span> </span><a href="#local-6989586621679087373"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Sparse</span><span> </span><a href="#local-6989586621679087371"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">AD</span><span> </span><a href="#local-6989586621679087373"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Sparse</span><span> </span><a href="#local-6989586621679087371"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- ^ Function on container of values to lift</span><span>
</span><a name="line-213"></a><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679087370"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-special">(</span><a href="Numeric.Uncertain.Correlated.Internal.html#CVar"><span class="hs-identifier hs-type">CVar</span></a><span> </span><a href="#local-6989586621679087372"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679087371"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span>     </span><span class="hs-comment">-- ^ Container of 'CVar' samples to apply the function to</span><span>
</span><a name="line-214"></a><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#CVar"><span class="hs-identifier hs-type">CVar</span></a><span> </span><a href="#local-6989586621679087372"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679087371"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-215"></a><a name="liftCF"><a href="Numeric.Uncertain.Correlated.Internal.html#liftCF"><span class="hs-identifier">liftCF</span></a></a><span> </span><a name="local-6989586621679087530"><a href="#local-6989586621679087530"><span class="hs-identifier">f</span></a></a><span> </span><a name="local-6989586621679087531"><a href="#local-6989586621679087531"><span class="hs-identifier">cs</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#CF"><span class="hs-identifier hs-var">CF</span></a><span> </span><a href="#local-6989586621679087530"><span class="hs-identifier hs-var">f</span></a><span> </span><a href="#local-6989586621679087531"><span class="hs-identifier hs-var">cs</span></a><span>
</span><a name="line-216"></a><span class="hs-pragma">{-# INLINE liftCF #-}</span><span>
</span><a name="line-217"></a><span>
</span><a name="line-218"></a><span class="hs-comment">-- | Creates a 'CVar' representing a completely independent sample from all</span><span>
</span><a name="line-219"></a><span class="hs-comment">-- other 'CVar's containing the exact value given.</span><span>
</span><a name="line-220"></a><span class="hs-identifier">constC</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621679087368"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#CVar"><span class="hs-identifier hs-type">CVar</span></a><span> </span><a href="#local-6989586621679087369"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679087368"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-221"></a><a name="constC"><a href="Numeric.Uncertain.Correlated.Internal.html#constC"><span class="hs-identifier">constC</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#CK"><span class="hs-identifier hs-var">CK</span></a><span>
</span><a name="line-222"></a><span class="hs-pragma">{-# INLINE constC #-}</span><span>
</span><a name="line-223"></a><span>
</span><a name="line-224"></a><span class="hs-comment">-- | Lifts a numeric function over the sample represented by a 'CVar'.</span><span>
</span><a name="line-225"></a><span class="hs-comment">-- Correctly propagates the uncertainty according to the second-order</span><span>
</span><a name="line-226"></a><span class="hs-comment">-- taylor expansion expansion of the function.  Note that if the</span><span>
</span><a name="line-227"></a><span class="hs-comment">-- higher-degree taylor series terms are large with respect to the mean and</span><span>
</span><a name="line-228"></a><span class="hs-comment">-- variance, this approximation may be inaccurate.</span><span>
</span><a name="line-229"></a><span class="hs-comment">--</span><span>
</span><a name="line-230"></a><span class="hs-comment">-- Should take any function sufficiently polymorphic over numeric types, so</span><span>
</span><a name="line-231"></a><span class="hs-comment">-- you can use things like 'sqrt', 'sin', 'negate', etc.</span><span>
</span><a name="line-232"></a><span class="hs-comment">--</span><span>
</span><a name="line-233"></a><span class="hs-comment">-- @</span><span>
</span><a name="line-234"></a><span class="hs-comment">-- ghci&gt; 'evalCorr' $ do</span><span>
</span><a name="line-235"></a><span class="hs-comment">--         x &lt;- 'sampleUncert' $ 12.5 '+/-' 0.8</span><span>
</span><a name="line-236"></a><span class="hs-comment">--         y &lt;- sampleUncert $ 15.9 +/- 0.5</span><span>
</span><a name="line-237"></a><span class="hs-comment">--         'resolveUncert' $ liftC (\\z -&gt; log z ^ 2) (x + y)</span><span>
</span><a name="line-238"></a><span class="hs-comment">-- 11.2 +/- 0.2</span><span>
</span><a name="line-239"></a><span class="hs-comment">-- @</span><span>
</span><a name="line-240"></a><span class="hs-comment">--</span><span>
</span><a name="line-241"></a><span class="hs-identifier">liftC</span><span>
</span><a name="line-242"></a><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><a name="local-6989586621679087367"><a href="#local-6989586621679087367"><span class="hs-identifier">t</span></a></a><span class="hs-operator">.</span><span> </span><span class="hs-identifier hs-type">AD</span><span> </span><a href="#local-6989586621679087367"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Sparse</span><span> </span><a href="#local-6989586621679087365"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">AD</span><span> </span><a href="#local-6989586621679087367"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Sparse</span><span> </span><a href="#local-6989586621679087365"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- ^ Function on values to lift</span><span>
</span><a name="line-243"></a><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#CVar"><span class="hs-identifier hs-type">CVar</span></a><span> </span><a href="#local-6989586621679087366"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679087365"><span class="hs-identifier hs-type">a</span></a><span>         </span><span class="hs-comment">-- ^ 'CVar' sample to apply the function to</span><span>
</span><a name="line-244"></a><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#CVar"><span class="hs-identifier hs-type">CVar</span></a><span> </span><a href="#local-6989586621679087366"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679087365"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-245"></a><a name="liftC"><a href="Numeric.Uncertain.Correlated.Internal.html#liftC"><span class="hs-identifier">liftC</span></a></a><span> </span><a name="local-6989586621679087532"><a href="#local-6989586621679087532"><span class="hs-identifier">f</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Hople.html#curryH1"><span class="hs-identifier hs-var">curryH1</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#liftCF"><span class="hs-identifier hs-var">liftCF</span></a><span> </span><span class="hs-special">(</span><a href="Data.Hople.html#uncurryH1"><span class="hs-identifier hs-var">uncurryH1</span></a><span> </span><a href="#local-6989586621679087532"><span class="hs-identifier hs-var">f</span></a><span class="hs-special">)</span><span>
</span><a name="line-246"></a><span class="hs-pragma">{-# INLINABLE liftC #-}</span><span>
</span><a name="line-247"></a><span>
</span><a name="line-248"></a><span class="hs-comment">-- | Lifts a two-argument (curried) function over the samples represented</span><span>
</span><a name="line-249"></a><span class="hs-comment">-- by two 'CVar's.  Correctly propagates the uncertainty according to the</span><span>
</span><a name="line-250"></a><span class="hs-comment">-- second-order (multivariate) taylor expansion expansion of the function,</span><span>
</span><a name="line-251"></a><span class="hs-comment">-- and properly takes into account and keeps track of all</span><span>
</span><a name="line-252"></a><span class="hs-comment">-- inter-correlations between the 'CVar' samples.  Note that if the</span><span>
</span><a name="line-253"></a><span class="hs-comment">-- higher-degree taylor series terms are large with respect to the mean and</span><span>
</span><a name="line-254"></a><span class="hs-comment">-- variance, this approximation may be inaccurate.</span><span>
</span><a name="line-255"></a><span class="hs-comment">--</span><span>
</span><a name="line-256"></a><span class="hs-comment">-- Should take any function sufficiently polymorphic over numeric types, so</span><span>
</span><a name="line-257"></a><span class="hs-comment">-- you can use things like '*', 'atan2', '**', etc.</span><span>
</span><a name="line-258"></a><span class="hs-comment">--</span><span>
</span><a name="line-259"></a><span class="hs-comment">-- @</span><span>
</span><a name="line-260"></a><span class="hs-comment">-- ghci&gt; 'evalCorr' $ do</span><span>
</span><a name="line-261"></a><span class="hs-comment">--         x &lt;- 'sampleUncert' $ 12.5 '+/-' 0.8</span><span>
</span><a name="line-262"></a><span class="hs-comment">--         y &lt;- sampleUncert $ 15.9 +/- 0.5</span><span>
</span><a name="line-263"></a><span class="hs-comment">--         'resolveUncert' $ liftC2 (\\a b -&gt; log (a + b) ^ 2) x y</span><span>
</span><a name="line-264"></a><span class="hs-comment">-- 11.2 +/- 0.2</span><span>
</span><a name="line-265"></a><span class="hs-comment">-- @</span><span>
</span><a name="line-266"></a><span class="hs-comment">--</span><span>
</span><a name="line-267"></a><span class="hs-identifier">liftC2</span><span>
</span><a name="line-268"></a><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><a name="local-6989586621679087364"><a href="#local-6989586621679087364"><span class="hs-identifier">t</span></a></a><span class="hs-operator">.</span><span> </span><span class="hs-identifier hs-type">AD</span><span> </span><a href="#local-6989586621679087364"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Sparse</span><span> </span><a href="#local-6989586621679087362"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">AD</span><span> </span><a href="#local-6989586621679087364"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Sparse</span><span> </span><a href="#local-6989586621679087362"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">AD</span><span> </span><a href="#local-6989586621679087364"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Sparse</span><span> </span><a href="#local-6989586621679087362"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-269"></a><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#CVar"><span class="hs-identifier hs-type">CVar</span></a><span> </span><a href="#local-6989586621679087363"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679087362"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-270"></a><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#CVar"><span class="hs-identifier hs-type">CVar</span></a><span> </span><a href="#local-6989586621679087363"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679087362"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-271"></a><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#CVar"><span class="hs-identifier hs-type">CVar</span></a><span> </span><a href="#local-6989586621679087363"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679087362"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-272"></a><a name="liftC2"><a href="Numeric.Uncertain.Correlated.Internal.html#liftC2"><span class="hs-identifier">liftC2</span></a></a><span> </span><a name="local-6989586621679087533"><a href="#local-6989586621679087533"><span class="hs-identifier">f</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Hople.html#curryH2"><span class="hs-identifier hs-var">curryH2</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#liftCF"><span class="hs-identifier hs-var">liftCF</span></a><span> </span><span class="hs-special">(</span><a href="Data.Hople.html#uncurryH2"><span class="hs-identifier hs-var">uncurryH2</span></a><span> </span><a href="#local-6989586621679087533"><span class="hs-identifier hs-var">f</span></a><span class="hs-special">)</span><span>
</span><a name="line-273"></a><span class="hs-pragma">{-# INLINABLE liftC2 #-}</span><span>
</span><a name="line-274"></a><span>
</span><a name="line-275"></a><span class="hs-comment">-- | Lifts a three-argument (curried) function over the samples represented</span><span>
</span><a name="line-276"></a><span class="hs-comment">-- by three 'CVar's.  See 'liftC2' and 'liftCF' for more details.</span><span>
</span><a name="line-277"></a><span class="hs-identifier">liftC3</span><span>
</span><a name="line-278"></a><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><a name="local-6989586621679087361"><a href="#local-6989586621679087361"><span class="hs-identifier">t</span></a></a><span class="hs-operator">.</span><span> </span><span class="hs-identifier hs-type">AD</span><span> </span><a href="#local-6989586621679087361"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Sparse</span><span> </span><a href="#local-6989586621679087359"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">AD</span><span> </span><a href="#local-6989586621679087361"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Sparse</span><span> </span><a href="#local-6989586621679087359"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">AD</span><span> </span><a href="#local-6989586621679087361"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Sparse</span><span> </span><a href="#local-6989586621679087359"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">AD</span><span> </span><a href="#local-6989586621679087361"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Sparse</span><span> </span><a href="#local-6989586621679087359"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-279"></a><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#CVar"><span class="hs-identifier hs-type">CVar</span></a><span> </span><a href="#local-6989586621679087360"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679087359"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-280"></a><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#CVar"><span class="hs-identifier hs-type">CVar</span></a><span> </span><a href="#local-6989586621679087360"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679087359"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-281"></a><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#CVar"><span class="hs-identifier hs-type">CVar</span></a><span> </span><a href="#local-6989586621679087360"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679087359"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-282"></a><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#CVar"><span class="hs-identifier hs-type">CVar</span></a><span> </span><a href="#local-6989586621679087360"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679087359"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-283"></a><a name="liftC3"><a href="Numeric.Uncertain.Correlated.Internal.html#liftC3"><span class="hs-identifier">liftC3</span></a></a><span> </span><a name="local-6989586621679087534"><a href="#local-6989586621679087534"><span class="hs-identifier">f</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Hople.html#curryH3"><span class="hs-identifier hs-var">curryH3</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#liftCF"><span class="hs-identifier hs-var">liftCF</span></a><span> </span><span class="hs-special">(</span><a href="Data.Hople.html#uncurryH3"><span class="hs-identifier hs-var">uncurryH3</span></a><span> </span><a href="#local-6989586621679087534"><span class="hs-identifier hs-var">f</span></a><span class="hs-special">)</span><span>
</span><a name="line-284"></a><span class="hs-pragma">{-# INLINABLE liftC3 #-}</span><span>
</span><a name="line-285"></a><span>
</span><a name="line-286"></a><span class="hs-comment">-- | Lifts a four-argument (curried) function over the samples represented</span><span>
</span><a name="line-287"></a><span class="hs-comment">-- by four 'CVar's.  See 'liftC2' and 'liftCF' for more details.</span><span>
</span><a name="line-288"></a><span class="hs-identifier">liftC4</span><span>
</span><a name="line-289"></a><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><a name="local-6989586621679087358"><a href="#local-6989586621679087358"><span class="hs-identifier">t</span></a></a><span class="hs-operator">.</span><span> </span><span class="hs-identifier hs-type">AD</span><span> </span><a href="#local-6989586621679087358"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Sparse</span><span> </span><a href="#local-6989586621679087356"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">AD</span><span> </span><a href="#local-6989586621679087358"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Sparse</span><span> </span><a href="#local-6989586621679087356"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">AD</span><span> </span><a href="#local-6989586621679087358"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Sparse</span><span> </span><a href="#local-6989586621679087356"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">AD</span><span> </span><a href="#local-6989586621679087358"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Sparse</span><span> </span><a href="#local-6989586621679087356"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">AD</span><span> </span><a href="#local-6989586621679087358"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Sparse</span><span> </span><a href="#local-6989586621679087356"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-290"></a><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#CVar"><span class="hs-identifier hs-type">CVar</span></a><span> </span><a href="#local-6989586621679087357"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679087356"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-291"></a><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#CVar"><span class="hs-identifier hs-type">CVar</span></a><span> </span><a href="#local-6989586621679087357"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679087356"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-292"></a><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#CVar"><span class="hs-identifier hs-type">CVar</span></a><span> </span><a href="#local-6989586621679087357"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679087356"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-293"></a><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#CVar"><span class="hs-identifier hs-type">CVar</span></a><span> </span><a href="#local-6989586621679087357"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679087356"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-294"></a><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#CVar"><span class="hs-identifier hs-type">CVar</span></a><span> </span><a href="#local-6989586621679087357"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679087356"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-295"></a><a name="liftC4"><a href="Numeric.Uncertain.Correlated.Internal.html#liftC4"><span class="hs-identifier">liftC4</span></a></a><span> </span><a name="local-6989586621679087535"><a href="#local-6989586621679087535"><span class="hs-identifier">f</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Hople.html#curryH4"><span class="hs-identifier hs-var">curryH4</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#liftCF"><span class="hs-identifier hs-var">liftCF</span></a><span> </span><span class="hs-special">(</span><a href="Data.Hople.html#uncurryH4"><span class="hs-identifier hs-var">uncurryH4</span></a><span> </span><a href="#local-6989586621679087535"><span class="hs-identifier hs-var">f</span></a><span class="hs-special">)</span><span>
</span><a name="line-296"></a><span class="hs-pragma">{-# INLINABLE liftC4 #-}</span><span>
</span><a name="line-297"></a><span>
</span><a name="line-298"></a><span class="hs-comment">-- | Lifts a five-argument (curried) function over the samples represented</span><span>
</span><a name="line-299"></a><span class="hs-comment">-- by five 'CVar's.  See 'liftC2' and 'liftCF' for more details.</span><span>
</span><a name="line-300"></a><span class="hs-identifier">liftC5</span><span>
</span><a name="line-301"></a><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><a name="local-6989586621679087355"><a href="#local-6989586621679087355"><span class="hs-identifier">t</span></a></a><span class="hs-operator">.</span><span> </span><span class="hs-identifier hs-type">AD</span><span> </span><a href="#local-6989586621679087355"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Sparse</span><span> </span><a href="#local-6989586621679087353"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">AD</span><span> </span><a href="#local-6989586621679087355"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Sparse</span><span> </span><a href="#local-6989586621679087353"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">AD</span><span> </span><a href="#local-6989586621679087355"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Sparse</span><span> </span><a href="#local-6989586621679087353"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">AD</span><span> </span><a href="#local-6989586621679087355"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Sparse</span><span> </span><a href="#local-6989586621679087353"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">AD</span><span> </span><a href="#local-6989586621679087355"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Sparse</span><span> </span><a href="#local-6989586621679087353"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">AD</span><span> </span><a href="#local-6989586621679087355"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Sparse</span><span> </span><a href="#local-6989586621679087353"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-302"></a><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#CVar"><span class="hs-identifier hs-type">CVar</span></a><span> </span><a href="#local-6989586621679087354"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679087353"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-303"></a><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#CVar"><span class="hs-identifier hs-type">CVar</span></a><span> </span><a href="#local-6989586621679087354"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679087353"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-304"></a><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#CVar"><span class="hs-identifier hs-type">CVar</span></a><span> </span><a href="#local-6989586621679087354"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679087353"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-305"></a><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#CVar"><span class="hs-identifier hs-type">CVar</span></a><span> </span><a href="#local-6989586621679087354"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679087353"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-306"></a><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#CVar"><span class="hs-identifier hs-type">CVar</span></a><span> </span><a href="#local-6989586621679087354"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679087353"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-307"></a><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#CVar"><span class="hs-identifier hs-type">CVar</span></a><span> </span><a href="#local-6989586621679087354"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679087353"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-308"></a><a name="liftC5"><a href="Numeric.Uncertain.Correlated.Internal.html#liftC5"><span class="hs-identifier">liftC5</span></a></a><span> </span><a name="local-6989586621679087536"><a href="#local-6989586621679087536"><span class="hs-identifier">f</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Hople.html#curryH5"><span class="hs-identifier hs-var">curryH5</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#liftCF"><span class="hs-identifier hs-var">liftCF</span></a><span> </span><span class="hs-special">(</span><a href="Data.Hople.html#uncurryH5"><span class="hs-identifier hs-var">uncurryH5</span></a><span> </span><a href="#local-6989586621679087536"><span class="hs-identifier hs-var">f</span></a><span class="hs-special">)</span><span>
</span><a name="line-309"></a><span class="hs-pragma">{-# INLINABLE liftC5 #-}</span><span>
</span><a name="line-310"></a><span>
</span><a name="line-311"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">Fractional</span><span> </span><a href="#local-6989586621679087341"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier hs-type">Num</span><span> </span><span class="hs-special">(</span><a href="Numeric.Uncertain.Correlated.Internal.html#CVar"><span class="hs-identifier hs-type">CVar</span></a><span> </span><a href="#local-6989586621679087342"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679087341"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-312"></a><span>    </span><span class="hs-special">(</span><a name="local-8214565720323790990"><span class="hs-operator">+</span></a><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#liftC2"><span class="hs-identifier hs-var">liftC2</span></a><span> </span><span class="hs-special">(</span><span class="hs-operator hs-var">+</span><span class="hs-special">)</span><span>
</span><a name="line-313"></a><span>    </span><span class="hs-pragma">{-# INLINE (+) #-}</span><span>
</span><a name="line-314"></a><span>    </span><span class="hs-special">(</span><a name="local-8214565720323790989"><span class="hs-operator">*</span></a><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#liftC2"><span class="hs-identifier hs-var">liftC2</span></a><span> </span><span class="hs-special">(</span><span class="hs-operator hs-var">*</span><span class="hs-special">)</span><span>
</span><a name="line-315"></a><span>    </span><span class="hs-pragma">{-# INLINE (*) #-}</span><span>
</span><a name="line-316"></a><span>    </span><span class="hs-special">(</span><span class="hs-glyph">-</span><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#liftC2"><span class="hs-identifier hs-var">liftC2</span></a><span> </span><span class="hs-special">(</span><span class="hs-glyph">-</span><span class="hs-special">)</span><span>
</span><a name="line-317"></a><span>    </span><span class="hs-pragma">{-# INLINE (-) #-}</span><span>
</span><a name="line-318"></a><span>    </span><a name="local-3458764513820541097"><span class="hs-identifier">negate</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#liftC"><span class="hs-identifier hs-var">liftC</span></a><span> </span><span class="hs-identifier hs-var">negate</span><span>
</span><a name="line-319"></a><span>    </span><span class="hs-pragma">{-# INLINE negate #-}</span><span>
</span><a name="line-320"></a><span>    </span><a name="local-8214565720323790988"><span class="hs-identifier">abs</span></a><span>    </span><span class="hs-glyph">=</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#liftC"><span class="hs-identifier hs-var">liftC</span></a><span> </span><span class="hs-identifier hs-var">abs</span><span>
</span><a name="line-321"></a><span>    </span><span class="hs-pragma">{-# INLINE abs #-}</span><span>
</span><a name="line-322"></a><span>    </span><a name="local-8214565720323790987"><span class="hs-identifier">signum</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#liftC"><span class="hs-identifier hs-var">liftC</span></a><span> </span><span class="hs-identifier hs-var">signum</span><span>
</span><a name="line-323"></a><span>    </span><span class="hs-pragma">{-# INLINE signum #-}</span><span>
</span><a name="line-324"></a><span>    </span><a name="local-3458764513820541088"><span class="hs-identifier">fromInteger</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#constC"><span class="hs-identifier hs-var">constC</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">fromInteger</span><span>
</span><a name="line-325"></a><span>    </span><span class="hs-pragma">{-# INLINE fromInteger #-}</span><span>
</span><a name="line-326"></a><span>
</span><a name="line-327"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">Fractional</span><span> </span><a href="#local-6989586621679087339"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier hs-type">Fractional</span><span> </span><span class="hs-special">(</span><a href="Numeric.Uncertain.Correlated.Internal.html#CVar"><span class="hs-identifier hs-type">CVar</span></a><span> </span><a href="#local-6989586621679087340"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679087339"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-328"></a><span>    </span><a name="local-8214565720323790882"><span class="hs-identifier">recip</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#liftC"><span class="hs-identifier hs-var">liftC</span></a><span> </span><span class="hs-identifier hs-var">recip</span><span>
</span><a name="line-329"></a><span>    </span><span class="hs-pragma">{-# INLINE recip #-}</span><span>
</span><a name="line-330"></a><span>    </span><span class="hs-special">(</span><a name="local-8214565720323790883"><span class="hs-operator">/</span></a><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#liftC2"><span class="hs-identifier hs-var">liftC2</span></a><span> </span><span class="hs-special">(</span><span class="hs-operator hs-var">/</span><span class="hs-special">)</span><span>
</span><a name="line-331"></a><span>    </span><span class="hs-pragma">{-# INLINE (/) #-}</span><span>
</span><a name="line-332"></a><span>    </span><a name="local-3458764513820541090"><span class="hs-identifier">fromRational</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#constC"><span class="hs-identifier hs-var">constC</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">fromRational</span><span>
</span><a name="line-333"></a><span>    </span><span class="hs-pragma">{-# INLINE fromRational #-}</span><span>
</span><a name="line-334"></a><span>
</span><a name="line-335"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">Floating</span><span> </span><a href="#local-6989586621679087337"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier hs-type">Floating</span><span> </span><span class="hs-special">(</span><a href="Numeric.Uncertain.Correlated.Internal.html#CVar"><span class="hs-identifier hs-type">CVar</span></a><span> </span><a href="#local-6989586621679087338"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679087337"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-336"></a><span>    </span><a name="local-8214565720323790803"><span class="hs-identifier">pi</span></a><span>      </span><span class="hs-glyph">=</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#constC"><span class="hs-identifier hs-var">constC</span></a><span> </span><span class="hs-identifier hs-var">pi</span><span>
</span><a name="line-337"></a><span>    </span><span class="hs-pragma">{-# INLINE pi #-}</span><span>
</span><a name="line-338"></a><span>    </span><a name="local-8214565720323790802"><span class="hs-identifier">exp</span></a><span>     </span><span class="hs-glyph">=</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#liftC"><span class="hs-identifier hs-var">liftC</span></a><span> </span><span class="hs-identifier hs-var">exp</span><span>
</span><a name="line-339"></a><span>    </span><span class="hs-pragma">{-# INLINE exp #-}</span><span>
</span><a name="line-340"></a><span>    </span><a name="local-8214565720323790801"><span class="hs-identifier">log</span></a><span>     </span><span class="hs-glyph">=</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#liftC"><span class="hs-identifier hs-var">liftC</span></a><span> </span><span class="hs-identifier hs-var">log</span><span>
</span><a name="line-341"></a><span>    </span><span class="hs-pragma">{-# INLINE log #-}</span><span>
</span><a name="line-342"></a><span>    </span><a name="local-8214565720323790800"><span class="hs-identifier">sqrt</span></a><span>    </span><span class="hs-glyph">=</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#liftC"><span class="hs-identifier hs-var">liftC</span></a><span> </span><span class="hs-identifier hs-var">sqrt</span><span>
</span><a name="line-343"></a><span>    </span><span class="hs-pragma">{-# INLINE sqrt #-}</span><span>
</span><a name="line-344"></a><span>    </span><span class="hs-special">(</span><a name="local-8214565720323790799"><span class="hs-operator">**</span></a><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#liftC2"><span class="hs-identifier hs-var">liftC2</span></a><span> </span><span class="hs-special">(</span><span class="hs-operator hs-var">**</span><span class="hs-special">)</span><span>
</span><a name="line-345"></a><span>    </span><span class="hs-pragma">{-# INLINE (**) #-}</span><span>
</span><a name="line-346"></a><span>    </span><a name="local-8214565720323790798"><span class="hs-identifier">logBase</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#liftC2"><span class="hs-identifier hs-var">liftC2</span></a><span> </span><span class="hs-identifier hs-var">logBase</span><span>
</span><a name="line-347"></a><span>    </span><span class="hs-pragma">{-# INLINE logBase #-}</span><span>
</span><a name="line-348"></a><span>    </span><a name="local-8214565720323784744"><span class="hs-identifier">sin</span></a><span>     </span><span class="hs-glyph">=</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#liftC"><span class="hs-identifier hs-var">liftC</span></a><span> </span><span class="hs-identifier hs-var">sin</span><span>
</span><a name="line-349"></a><span>    </span><span class="hs-pragma">{-# INLINE sin #-}</span><span>
</span><a name="line-350"></a><span>    </span><a name="local-8214565720323784743"><span class="hs-identifier">cos</span></a><span>     </span><span class="hs-glyph">=</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#liftC"><span class="hs-identifier hs-var">liftC</span></a><span> </span><span class="hs-identifier hs-var">cos</span><span>
</span><a name="line-351"></a><span>    </span><span class="hs-pragma">{-# INLINE cos #-}</span><span>
</span><a name="line-352"></a><span>    </span><a name="local-8214565720323790796"><span class="hs-identifier">asin</span></a><span>    </span><span class="hs-glyph">=</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#liftC"><span class="hs-identifier hs-var">liftC</span></a><span> </span><span class="hs-identifier hs-var">asin</span><span>
</span><a name="line-353"></a><span>    </span><span class="hs-pragma">{-# INLINE asin #-}</span><span>
</span><a name="line-354"></a><span>    </span><a name="local-8214565720323790795"><span class="hs-identifier">acos</span></a><span>    </span><span class="hs-glyph">=</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#liftC"><span class="hs-identifier hs-var">liftC</span></a><span> </span><span class="hs-identifier hs-var">acos</span><span>
</span><a name="line-355"></a><span>    </span><span class="hs-pragma">{-# INLINE acos #-}</span><span>
</span><a name="line-356"></a><span>    </span><a name="local-8214565720323790794"><span class="hs-identifier">atan</span></a><span>    </span><span class="hs-glyph">=</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#liftC"><span class="hs-identifier hs-var">liftC</span></a><span> </span><span class="hs-identifier hs-var">atan</span><span>
</span><a name="line-357"></a><span>    </span><span class="hs-pragma">{-# INLINE atan #-}</span><span>
</span><a name="line-358"></a><span>    </span><a name="local-8214565720323790793"><span class="hs-identifier">sinh</span></a><span>    </span><span class="hs-glyph">=</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#liftC"><span class="hs-identifier hs-var">liftC</span></a><span> </span><span class="hs-identifier hs-var">sinh</span><span>
</span><a name="line-359"></a><span>    </span><span class="hs-pragma">{-# INLINE sinh #-}</span><span>
</span><a name="line-360"></a><span>    </span><a name="local-8214565720323790792"><span class="hs-identifier">cosh</span></a><span>    </span><span class="hs-glyph">=</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#liftC"><span class="hs-identifier hs-var">liftC</span></a><span> </span><span class="hs-identifier hs-var">cosh</span><span>
</span><a name="line-361"></a><span>    </span><span class="hs-pragma">{-# INLINE cosh #-}</span><span>
</span><a name="line-362"></a><span>    </span><a name="local-8214565720323790790"><span class="hs-identifier">asinh</span></a><span>   </span><span class="hs-glyph">=</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#liftC"><span class="hs-identifier hs-var">liftC</span></a><span> </span><span class="hs-identifier hs-var">asinh</span><span>
</span><a name="line-363"></a><span>    </span><span class="hs-pragma">{-# INLINE asinh #-}</span><span>
</span><a name="line-364"></a><span>    </span><a name="local-8214565720323790789"><span class="hs-identifier">acosh</span></a><span>   </span><span class="hs-glyph">=</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#liftC"><span class="hs-identifier hs-var">liftC</span></a><span> </span><span class="hs-identifier hs-var">acosh</span><span>
</span><a name="line-365"></a><span>    </span><span class="hs-pragma">{-# INLINE acosh #-}</span><span>
</span><a name="line-366"></a><span>    </span><a name="local-8214565720323790788"><span class="hs-identifier">atanh</span></a><span>   </span><span class="hs-glyph">=</span><span> </span><a href="Numeric.Uncertain.Correlated.Internal.html#liftC"><span class="hs-identifier hs-var">liftC</span></a><span> </span><span class="hs-identifier hs-var">atanh</span><span>
</span><a name="line-367"></a><span>    </span><span class="hs-pragma">{-# INLINE atanh #-}</span><span>
</span><a name="line-368"></a></pre></body></html>